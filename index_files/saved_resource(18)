;(function($,doc,win)
{"use strict";var PBTwitterUserTimeline=function(object,option)
{var $this=$(object);var $option=option;this.build=function()
{var helper=new PBHelper();$this.find('ul>li>.pb-twitter-user-timeline-date').each(function()
{var date;try
{date=new Date(Date.parse($(this).text().replace(/( \+)/,' UTC$1'))).toISOString();}
catch(e)
{date=$(this).text();}
$(this).html($.timeago(date));});$this.find('ul>li>.pb-twitter-user-timeline-date').css('visibility','visible');if(parseInt($option.carousel_enable)===1)
$this.children('ul').addClass('pb-layout-responsive-0');$option.onCreate=function()
{$this.css({opacity:1});};helper.createCarousel($this,$option);$this.find('a').attr('target','_blank');};};$.fn.PBTwitterUserTimeline=function(option)
{var object=new PBTwitterUserTimeline(this,option);object.build();};})(jQuery,document,window);
;/*
	jQuery zAccordion Plugin v2.1.0
	Copyright (c) 2010 - 2012 Nate Armagost, http://www.armagost.com/zaccordion
	Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
	The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function(a){a.fn.zAccordion=function(e){var d={timeout:6000,width:null,slideWidth:null,tabWidth:null,height:null,startingSlide:0,slideClass:null,easing:null,speed:1200,auto:true,trigger:"click",pause:true,invert:false,animationStart:function(){},animationComplete:function(){},buildComplete:function(){},errors:false},c={displayError:function(g,f){if(window.console&&f){console.log("zAccordion: "+g+".")}},findChildElements:function(f){if(f.children().get(0)===undefined){return false}else{return true}},getNext:function(g,h){var f=h+1;if(f>=g){f=0}return f},fixHeight:function(f){if((f.height===null)&&(f.slideHeight!==undefined)){f.height=f.slideHeight;return true}else{if((f.height!==null)&&(f.slideHeight===undefined)){return true}else{if((f.height===null)&&(f.slideHeight===undefined)){return false}}}},getUnits:function(f){if(f!==null){if(f.toString().indexOf("%")>-1){return"%"}else{if(f.toString().indexOf("px")>-1){return"px"}else{return"px"}}}},toInteger:function(f){if(f!==null){return parseInt(f,10)}},sizeAccordion:function(f,g){if((g.width===undefined)&&(g.slideWidth===undefined)&&(g.tabWidth===undefined)){c.displayError("width must be defined",g.errors);return false}else{if((g.width!==undefined)&&(g.slideWidth===undefined)&&(g.tabWidth===undefined)){if((g.width>100)&&(g.widthUnits==="%")){c.displayError("width cannot be over 100%",g.errors);return false}else{g.slideWidthUnits=g.widthUnits;g.tabWidthUnits=g.widthUnits;if(g.widthUnits==="%"){g.tabWidth=100/(f.children().size()+1);g.slideWidth=100-((f.children().size()-1)*g.tabWidth)}else{g.tabWidth=g.width/(f.children().size()+1);g.slideWidth=g.width-((f.children().size()-1)*g.tabWidth)}return true}}else{if((g.width===undefined)&&(g.slideWidth!==undefined)&&(g.tabWidth===undefined)){c.displayError("width must be defined",g.errors);return false}else{if((g.width===undefined)&&(g.slideWidth===undefined)&&(g.tabWidth!==undefined)){c.displayError("width must be defined",g.errors);return false}else{if((g.width!==undefined)&&(g.slideWidth===undefined)&&(g.tabWidth!==undefined)){if(g.widthUnits!==g.tabWidthUnits){c.displayError("Units do not match",g.errors);return false}else{if((g.width>100)&&(g.widthUnits==="%")){c.displayError("width cannot be over 100%",g.errors);return false}else{if((((f.children().size()*g.tabWidth)>100)&&(g.widthUnits==="%"))||(((f.children().size()*g.tabWidth)>g.width)&&(g.widthUnits==="px"))){c.displayError("tabWidth too large for accordion",g.errors);return false}else{g.slideWidthUnits=g.widthUnits;if(g.widthUnits==="%"){g.slideWidth=100-((f.children().size()-1)*g.tabWidth)}else{g.slideWidth=g.width-((f.children().size()-1)*g.tabWidth)}return true}}}}else{if((g.width!==undefined)&&(g.slideWidth!==undefined)&&(g.tabWidth===undefined)){if(g.widthUnits!==g.slideWidthUnits){c.displayError("Units do not match",g.errors);return false}else{if((g.width>100)&&(g.widthUnits==="%")){c.displayError("width cannot be over 100%",g.errors);return false}else{if(g.slideWidth>=g.width){c.displayError("slideWidth cannot be greater than or equal to width",g.errors);return false}else{if((((f.children().size()*g.slideWidth)<100)&&(g.widthUnits==="%"))||(((f.children().size()*g.slideWidth)<g.width)&&(g.widthUnits==="px"))){c.displayError("slideWidth too small for accordion",g.errors);return false}else{g.tabWidthUnits=g.widthUnits;if(g.widthUnits==="%"){g.tabWidth=(100-g.slideWidth)/(f.children().size()-1)}else{g.tabWidth=(g.width-g.slideWidth)/(f.children().size()-1)}return true}}}}}else{if((g.width===undefined)&&(g.slideWidth!==undefined)&&(g.tabWidth!==undefined)){c.displayError("width must be defined",g.errors);return false}else{if((g.width!==undefined)&&(g.slideWidth!==undefined)&&(g.tabWidth!==undefined)){c.displayError("At maximum two of three attributes (width, slideWidth, and tabWidth) should be defined",g.errors);return false}}}}}}}}},timer:function(k){var l=k.data("next")+1;if(k.data("pause")&&k.data("inside")&&k.data("auto")){try{clearTimeout(k.data("interval"))}catch(j){}}else{if(k.data("pause")&&!k.data("inside")&&k.data("auto")){try{clearTimeout(k.data("interval"))}catch(i){}k.data("interval",setTimeout(function(){k.children(k.children().get(0).tagName+":nth-child("+l+")").trigger(k.data("trigger"))},k.data("timeout")))}else{if(!k.data("pause")&&k.data("auto")){try{clearTimeout(k.data("interval"))}catch(h){}k.data("interval",setTimeout(function(){k.children(k.children().get(0).tagName+":nth-child("+l+")").trigger(k.data("trigger"))},k.data("timeout")))}}}}},b={init:function(h){var i,g=["slideWidth","tabWidth","startingSlide","slideClass","animationStart","animationComplete","buildComplete"];for(i=0;i<g.length;i+=1){if(a(this).data(g[i].toLowerCase())!==undefined){a(this).data(g[i],a(this).data(g[i].toLowerCase()));a(this).removeData(g[i].toLowerCase())}}h=a.extend(d,h,a(this).data());if(this.length<=0){c.displayError("Selector does not exist",h.errors);return false}else{if(!c.fixHeight(h)){c.displayError("height must be defined",h.errors);return false}else{if(!c.findChildElements(this)){c.displayError("No child elements available",h.errors);return false}else{if(h.speed>h.timeout){c.displayError("Speed cannot be greater than timeout",h.errors);return false}else{h.heightUnits=c.getUnits(h.height);h.height=c.toInteger(h.height);h.widthUnits=c.getUnits(h.width);h.width=c.toInteger(h.width);h.slideWidthUnits=c.getUnits(h.slideWidth);h.slideWidth=c.toInteger(h.slideWidth);h.tabWidthUnits=c.getUnits(h.tabWidth);h.tabWidth=c.toInteger(h.tabWidth);if(h.slideClass!==null){h.slideOpenClass=h.slideClass+"-open";h.slideClosedClass=h.slideClass+"-closed";h.slidePreviousClass=h.slideClass+"-previous"}if(!c.sizeAccordion(this,h)){return false}else{return this.each(function(){var q=h,p=a(this),j=[],k,f,n,l,m=-1;k=q.slideWidth-q.tabWidth;f=p.get(0).tagName;n=p.children().get(0).tagName;l=p.children().size();p.data(a.extend({},{auto:q.auto,interval:null,timeout:q.timeout,trigger:q.trigger,current:q.startingSlide,previous:m,next:c.getNext(l,q.startingSlide),slideClass:q.slideClass,inside:false,pause:q.pause}));if(q.heightUnits==="%"){q.height=(p.parent().get(0).tagName==="BODY")?q.height*0.01*a(window).height():q.height*0.01*p.parent().height();q.heightUnits="px"}p.children().each(function(s){var r,o,t;o=q.invert?o=((l-1)*q.tabWidth)-(s*q.tabWidth):s*q.tabWidth;j[s]=o;r=q.invert?((l-1)-s)*10:s*10;if(q.slideClass!==null){a(this).addClass(q.slideClass)}a(this).css({top:0,"z-index":r,margin:0,padding:0,"float":"left",display:"block",position:"absolute",overflow:"hidden",width:q.slideWidth+q.widthUnits,height:q.height+q.heightUnits});if(n==="LI"){a(this).css({"text-indent":0})}if(q.invert){a(this).css({right:o+q.widthUnits,"float":"right"})}else{a(this).css({left:o+q.widthUnits,"float":"left"})}if(s===(q.startingSlide)){a(this).css("cursor","default");if(q.slideClass!==null){a(this).addClass(q.slideOpenClass)}}else{a(this).css("cursor","pointer");if(q.slideClass!==null){a(this).addClass(q.slideClosedClass)}if((s>(q.startingSlide))&&(!q.invert)){t=s+1;p.children(n+":nth-child("+t+")").css({left:j[t-1]+k+q.widthUnits})}else{if((s<(q.startingSlide))&&(q.invert)){t=s+1;p.children(n+":nth-child("+t+")").css({right:j[t-1]+k+q.widthUnits})}}}});p.css({display:"block",height:q.height+q.heightUnits,width:q.width+q.widthUnits,padding:0,position:"relative",overflow:"hidden"});if((f==="UL")||(f==="OL")){p.css({"list-style":"none"})}p.hover(function(){p.data("inside",true);if(p.data("pause")){try{clearTimeout(p.data("interval"))}catch(o){}}},function(){p.data("inside",false);if(p.data("auto")&&p.data("pause")){c.timer(p)}});p.children().bind(q.trigger,function(){if(a(this).index()!==p.data("current")){var r,o,s,t;s=m+1;t=p.data("current")+1;if((s!==0)&&(q.slideClass!==null)){p.children(n+":nth-child("+s+")").removeClass(q.slidePreviousClass)}p.children(n+":nth-child("+t+")");if(q.slideClass!==null){p.children(n+":nth-child("+t+")").addClass(q.slidePreviousClass)}m=p.data("current");p.data("previous",p.data("current"));s=m;s+=1;p.data("current",a(this).index());t=p.data("current");t+=1;p.children().css("cursor","pointer");a(this).css("cursor","default");if(q.slideClass!==null){p.children().addClass(q.slideClosedClass).removeClass(q.slideOpenClass);a(this).addClass(q.slideOpenClass).removeClass(q.slideClosedClass)}p.data("next",c.getNext(l,a(this).index()));c.timer(p);q.animationStart();if(q.invert){p.children(n+":nth-child("+t+")").stop().animate({right:j[p.data("current")]+q.widthUnits},q.speed,q.easing,q.animationComplete)}else{p.children(n+":nth-child("+t+")").stop().animate({left:j[p.data("current")]+q.widthUnits},q.speed,q.easing,q.animationComplete)}for(r=0;r<l;r+=1){o=r+1;if(r<p.data("current")){if(q.invert){p.children(n+":nth-child("+o+")").stop().animate({right:q.width-(o*q.tabWidth)+q.widthUnits},q.speed,q.easing)}else{p.children(n+":nth-child("+o+")").stop().animate({left:j[r]+q.widthUnits},q.speed,q.easing)}}if(r>p.data("current")){if(q.invert){p.children(n+":nth-child("+o+")").stop().animate({right:(l-o)*q.tabWidth+q.widthUnits},q.speed,q.easing)}else{p.children(n+":nth-child("+o+")").stop().animate({left:j[r]+k+q.widthUnits},q.speed,q.easing)}}}return false}});if(p.data("auto")){c.timer(p)}q.buildComplete()})}}}}}},stop:function(){if(a(this).data("auto")){clearTimeout(a(this).data("interval"));a(this).data("auto",false)}},start:function(){if(!a(this).data("auto")){var f=a(this).data("next")+1;a(this).data("auto",true);a(this).children(a(this).children().get(0).tagName+":nth-child("+f+")").trigger(a(this).data("trigger"))}},trigger:function(f){if((f>=a(this).children().size())||(f<0)){f=0}f+=1;a(this).children(a(this).children().get(0).tagName+":nth-child("+f+")").trigger(a(this).data("trigger"))},destroy:function(i){var f,g,h=a(this).data("slideClass");if(i!==undefined){f=(i.removeStyleAttr!==undefined)?i.removeStyleAttr:true;g=(i.removeClasses!==undefined)?i.removeClasses:false}clearTimeout(a(this).data("interval"));a(this).children().stop().unbind(a(this).data("trigger"));a(this).unbind("mouseenter mouseleave mouseover mouseout");if(f){a(this).removeAttr("style");a(this).children().removeAttr("style")}if(g){a(this).children().removeClass(h);a(this).children().removeClass(h+"-open");a(this).children().removeClass(h+"-closed");a(this).children().removeClass(h+"-previous")}a(this).removeData();if(i!==undefined){if(i.destroyComplete!=="undefined"){if(typeof(i.destroyComplete.afterDestroy)!=="undefined"){i.destroyComplete.afterDestroy()}if(i.destroyComplete.rebuild){return b.init.apply(this,[i.destroyComplete.rebuild])}}}}};if(b[e]){return b[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return b.init.apply(this,arguments)}else{a.error("zAccordion: "+e+" does not exist.")}}}}(jQuery));
;;(function($,doc,win)
{"use strict";var PBZAccordion=function(object,option)
{var $self=this;var $this=$(object);var $option=option;this.build=function()
{var helper=new PBHelper();if(parseInt($option.preloader_enable)===1)
{var id=$this.attr('id');helper.wait('#'+id+' .pb-image-preloader',function()
{$this.css({'height':'auto'}).removeClass('pb-preloader');$self.createAccordion();});}
else $self.createAccordion();};this.createAccordion=function()
{var helper=new PBHelper();$this.zAccordion({slideClass:'slide',width:'100%',tabWidth:'10%',height:$self.getAccordionHeight(),startingSlide:(pbOption.config.is_rtl?($this.children().length-parseInt($option.starting_slide)-1):parseInt($option.starting_slide)),timeout:parseInt($option.timeout),speed:parseInt($option.speed),auto:helper.parseBool($option.auto),pause:helper.parseBool($option.pause),easing:$option.easing,trigger:$option.trigger,animationStart:function()
{$this.find('li.slide-previous .pb-zaccordion-caption-box').fadeOut();},animationComplete:function()
{$this.find('li.slide-open .pb-zaccordion-caption-box').fadeIn().css('display','block');},buildComplete:function()
{$this.find('li.slide-closed .pb-zaccordion-caption-box').css('display','none');$this.find('li.slide-open .pb-zaccordion-caption-box').fadeIn();$self.setAccordionResposnive(true);}});};this.getAccordionHeight=function()
{var height=parseInt($this.find('li img').actual('height'));return(height);};this.setAccordionResposnive=function(bind)
{var height=this.getAccordionHeight();$this.css('height',height);$this.children('ul').css('height',height);$this.find('.pb-zaccordion-caption-box').each(function()
{if($(this).actual('outerHeight')>height)
$(this).addClass('pb-zaccordion-caption-box-disable');else $(this).removeClass('pb-zaccordion-caption-box-disable');});if(bind)
{$(window).windowDimensionListener({change:function(width,height)
{if(width||height)
$self.setAccordionResposnive(false);}});}};};$.fn.PBZAccordion=function(option)
{var slider=new PBZAccordion(this,option);slider.build();};})(jQuery,document,window);;jQuery(document).ready(function($)
{var helper=new PBHelper();$().imagePreloader();$().imageHover();$('.pb-image-type-image:not(.pb-fancybox-disabled) a').fancyBoxLaunch();$('a:has(img.pb-fancybox)').fancyBoxLaunch();$('.pb-image-type-video a').fancyBoxLaunch({type:'video'});helper.setLinkTarget('a.pb-window-target-blank');$('.pb-layout-100').responsiveElement({className:'pb-responsive-column-a'});$('.pb-layout-50x50').responsiveElement({className:'pb-responsive-column-a'});$('.pb-layout-33x33x33').responsiveElement({width:650,className:'pb-responsive-column-a'});$('.pb-layout-25x25x25x25').responsiveElement({width:650,className:'pb-responsive-column-a'});$('.pb-layout-66x33').responsiveElement({className:'pb-responsive-column-a'});$('.pb-layout-33x66').responsiveElement({className:'pb-responsive-column-a'});$('.pb-layout-25x75').responsiveElement({className:'pb-responsive-column-a'});$('.pb-layout-75x25').responsiveElement({className:'pb-responsive-column-a'});if(jQuery().waypoints)
{$().windowDimensionListener({'change':function(width,height)
{if(height)$.waypoints('refresh');}});}
$('body.pb').css({'opacity':'1'});$(window).trigger('resize');});
;/*
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,p){var i,m=Array.prototype.slice,r=decodeURIComponent,a=$.param,c,l,v,b=$.bbq=$.bbq||{},q,u,j,e=$.event.special,d="hashchange",A="querystring",D="fragment",y="elemUrlAttr",g="location",k="href",t="src",x=/^.*\?|#.*$/g,w=/^.*\#/,h,C={};function E(F){return typeof F==="string"}function B(G){var F=m.call(arguments,1);return function(){return G.apply(this,F.concat(m.call(arguments)))}}function n(F){return F.replace(/^[^#]*#?(.*)$/,"$1")}function o(F){return F.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(H,M,F,I,G){var O,L,K,N,J;if(I!==i){K=F.match(H?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);J=K[3]||"";if(G===2&&E(I)){L=I.replace(H?w:x,"")}else{N=l(K[2]);I=E(I)?l[H?D:A](I):I;L=G===2?I:G===1?$.extend({},I,N):$.extend({},N,I);L=a(L);if(H){L=L.replace(h,r)}}O=K[1]+(H?"#":L||!K[1]?"?":"")+L+J}else{O=M(F!==i?F:p[g][k])}return O}a[A]=B(f,0,o);a[D]=c=B(f,1,n);c.noEscape=function(G){G=G||"";var F=$.map(G.split(""),encodeURIComponent);h=new RegExp(F.join("|"),"g")};c.noEscape(",/");$.deparam=l=function(I,F){var H={},G={"true":!0,"false":!1,"null":null};$.each(I.replace(/\+/g," ").split("&"),function(L,Q){var K=Q.split("="),P=r(K[0]),J,O=H,M=0,R=P.split("]["),N=R.length-1;if(/\[/.test(R[0])&&/\]$/.test(R[N])){R[N]=R[N].replace(/\]$/,"");R=R.shift().split("[").concat(R);N=R.length-1}else{N=0}if(K.length===2){J=r(K[1]);if(F){J=J&&!isNaN(J)?+J:J==="undefined"?i:G[J]!==i?G[J]:J}if(N){for(;M<=N;M++){P=R[M]===""?O.length:R[M];O=O[P]=M<N?O[P]||(R[M+1]&&isNaN(R[M+1])?{}:[]):J}}else{if($.isArray(H[P])){H[P].push(J)}else{if(H[P]!==i){H[P]=[H[P],J]}else{H[P]=J}}}}else{if(P){H[P]=F?i:""}}});return H};function z(H,F,G){if(F===i||typeof F==="boolean"){G=F;F=a[H?D:A]()}else{F=E(F)?F.replace(H?w:x,""):F}return l(F,G)}l[A]=B(z,0);l[D]=v=B(z,1);$[y]||($[y]=function(F){return $.extend(C,F)})({a:k,base:k,iframe:t,img:t,input:t,form:"action",link:k,script:t});j=$[y];function s(I,G,H,F){if(!E(H)&&typeof H!=="object"){F=H;H=G;G=i}return this.each(function(){var L=$(this),J=G||j()[(this.nodeName||"").toLowerCase()]||"",K=J&&L.attr(J)||"";L.attr(J,a[I](K,H,F))})}$.fn[A]=B(s,A);$.fn[D]=B(s,D);b.pushState=q=function(I,F){if(E(I)&&/^#/.test(I)&&F===i){F=2}var H=I!==i,G=c(p[g][k],H?I:{},H?F:2);p[g][k]=G+(/#/.test(G)?"":"#")};b.getState=u=function(F,G){return F===i||typeof F==="boolean"?v(F):v(G)[F]};b.removeState=function(F){var G={};if(F!==i){G=u();$.each($.isArray(F)?F:arguments,function(I,H){delete G[H]})}q(G,2)};e[d]=$.extend(e[d],{add:function(F){var H;function G(J){var I=J[D]=c();J.getState=function(K,L){return K===i||typeof K==="boolean"?l(I,K):l(I,L)[K]};H.apply(this,arguments)}if($.isFunction(F)){H=F;return G}else{H=F.handler;F.handler=G}}})})(jQuery,this);
/*
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,i,b){var j,k=$.event.special,c="location",d="hashchange",l="href",f=$.browser,g=document.documentMode,h=f.msie&&(g===b||g<8),e="on"+d in i&&!h;function a(m){m=m||i[c][l];return m.replace(/^[^#]*#?(.*)$/,"$1")}$[d+"Delay"]=100;k[d]=$.extend(k[d],{setup:function(){if(e){return false}$(j.start)},teardown:function(){if(e){return false}$(j.stop)}});j=(function(){var m={},r,n,o,q;function p(){o=q=function(s){return s};if(h){n=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;q=function(){return a(n.document[c][l])};o=function(u,s){if(u!==s){var t=n.document;t.open().close();t[c].hash="#"+u}};o(a())}}m.start=function(){if(r){return}var t=a();o||p();(function s(){var v=a(),u=q(t);if(v!==t){o(t=v,u);$(i).trigger(d)}else{if(u!==t){i[c][l]=i[c][l].replace(/#.*/,"")+"#"+u}}r=setTimeout(s,$[d+"Delay"])})()};m.stop=function(){if(!n){r&&clearTimeout(r);r=0}};return m})()})(jQuery,this);
;jQuery(document).ready(function($){var $timetable=$(),tt_atts;$(".tt_tabs_navigation a").click(function(event){var $this=$(this);$this.parent().parent().find("li").removeClass("ui-tabs-active");$this.parent().addClass("ui-tabs-active");});$(".tt_tabs").tabs({event:"change",show:true,create:function(event,ui){$timetable=ui.panel.closest(".tt_wrapper");if($timetable.find(".tt_tabs_navigation.all_filters").length&&window.location.href.indexOf("book-event-hour-")===-1)
{if(ui.tab.length&&$timetable.find(".tt_tabs_navigation.events_categories_filter a[href='"+ui.tab[0].children[0].hash+"']").length)
$timetable.find(".tt_tabs_navigation.events_categories_filter a[href='"+ui.tab[0].children[0].hash+"']").parent().addClass("ui-tabs-active");else
$timetable.find(".tt_tabs_navigation.events_categories_filter li:first-child a").parent().addClass("ui-tabs-active");if(ui.tab.length&&$timetable.find(".tt_tabs_navigation.events_filter a[href='"+ui.tab[0].children[0].hash+"']").length)
$timetable.find(".tt_tabs_navigation.events_filter a[href='"+ui.tab[0].children[0].hash+"']").parent().addClass("ui-tabs-active");else
$timetable.find(".tt_tabs_navigation.events_filter li:first-child a").parent().addClass("ui-tabs-active");}
var param_fragment=escape_str($.param.fragment());if($('#'+param_fragment).closest(".tt_wrapper").length)
$("html, body").animate({scrollTop:$('#'+param_fragment).closest(".tt_wrapper").offset().top-80},400);}});$(".tt_tabs .ui-tabs-nav a").click(function(){if($(this).attr("href").substr(0,4)!="http")
$.bbq.pushState($(this).attr("href"));else
window.location.href=$(this).attr("href");});$(".tabs_box_navigation").mouseover(function(){$(this).find("ul").removeClass("tabs_box_navigation_hidden");});$(".tabs_box_navigation a").click(function(event){if($.param.fragment()==$(this).attr("href").replace("#","")||($.param.fragment()==""&&$(this).attr("href").replace("#","").substr(0,10)=="all-events"))
event.preventDefault();$(this).parent().parent().find(".selected").removeClass("selected");$(this).parent().addClass("selected");$(this).parent().parent().parent().children("label").text($(this).text());$(this).parent().parent().addClass("tabs_box_navigation_hidden");});$(".tt_tabs_navigation:not(.all_filter) a, .tabs_box_navigation:not(.all_filter) a").click(function(event){event.preventDefault();var $this=$(this),hash,newHref,sharpIdx,event_str,events_category_str,all_events_str;$timetable=$this.closest(".tt_wrapper");all_events_str="all-events"+(typeof($timetable.attr("id"))!="undefined"?"-"+$timetable.attr("id"):"");hash=$this.attr("href");sharpIdx=(window.location.href.indexOf("#")!==-1?window.location.href.indexOf("#"):window.location.href.length);event_str=($timetable.find(".events_filter .selected a").length?$timetable.find(".events_filter .selected a").attr("href").replace("#",""):($timetable.find(".events_filter .ui-tabs-active a").length?$timetable.find(".events_filter .ui-tabs-active a").attr("href").replace("#",""):""));events_category_str=($timetable.find(".events_categories_filter .selected a").length?$timetable.find(".events_categories_filter .selected a").attr("href").replace("#",""):($timetable.find(".events_categories_filter .ui-tabs-active a").length?$timetable.find(".events_categories_filter .ui-tabs-active a").attr("href").replace("#",""):""));$timetable.find(".tt_error_message").addClass("tt_hide");if(event_str!==""&&events_category_str!=="")
{if((event_str!==all_events_str&&events_category_str!==all_events_str&&$timetable.find("[id='"+event_str+"'][class*='tt-event-category-"+events_category_str.toLowerCase()+"']").length)||(events_category_str===all_events_str))
{newHref=escape_str(window.location.href.substr(0,sharpIdx))+decodeURIComponent("#"+event_str);if(window.location.href!=newHref)
window.location.href=newHref;}
else if(event_str===all_events_str&&events_category_str!==all_events_str)
{newHref=escape_str(window.location.href.substr(0,sharpIdx))+decodeURIComponent("#"+events_category_str);if(window.location.href!=newHref)
window.location.href=newHref;}
else
{var scrollTop=$(document).scrollTop();newHref=escape_str(window.location.href.substr(0,sharpIdx))+"#";if(window.location.href!=newHref)
window.location.href=newHref;$timetable.find(".tt_tabs").tabs("option","collapsible",true);$timetable.find(".tt_tabs").tabs("option","active",false);$timetable.find(".tt_error_message").removeClass("tt_hide");$("html, body").scrollTop(scrollTop);}}
else
{newHref=escape_str(window.location.href.substr(0,sharpIdx))+decodeURIComponent(hash);if(window.location.href!=newHref)
window.location.href=newHref;}});$(window).bind("hashchange",function(event){var param_fragment=escape_str($.param.fragment());$(".tabs_box_navigation a[href='#"+param_fragment+"']").trigger("click");$(".tt_tabs .ui-tabs-nav [href='#"+param_fragment+"']").trigger("change");$(".tabs_box_navigation a[href='#"+encodeURIComponent(param_fragment)+"']").trigger("click");$(".tt_tabs .ui-tabs-nav [href='#"+encodeURIComponent(param_fragment)+"']").trigger("change");}).trigger("hashchange");$(".tt_tooltip").bind("mouseover click",function(){var $this=$(this),$attach_to=$this,$tooltip_text,position,top,left;if($this.is(".event_container"))
$attach_to=$this.parent();$tooltip_text=$this.children(".tt_tooltip_text");$tooltip_text.css("width",$this.outerWidth()+"px");$tooltip_text.css("height",$tooltip_text.height()+"px");if($('body').hasClass('rtl'))
{position=$attach_to.position();top=position.top-$tooltip_text.innerHeight()+"px";left=position.left+"px";}
else
{top=-($tooltip_text.parent().offset().top-$attach_to.offset().top+$tooltip_text.innerHeight())+"px";left="0px";}
$tooltip_text.css({"top":top,"left":left});});$("body.rtl .booking_hover_buttons td.event").bind("mouseover click",function(){var $td=$(this),button_height=50,height,width;if($td.hasClass("tt_single_event"))
{height=Math.ceil($td[0].getBoundingClientRect().height);width=Math.ceil($td[0].getBoundingClientRect().width);$td.find(".event_hour_booking_wrapper.on_hover").css({'top':$td.position().top+height-button_height,'left':$td.position().left,'width':width,});}
else
{$td.find(".event_container").each(function(){var $event_container=$(this),$booking_wrapper=$event_container.find(".event_hour_booking_wrapper.on_hover");height=Math.ceil($event_container[0].getBoundingClientRect().height);width=Math.ceil($event_container[0].getBoundingClientRect().width);$booking_wrapper.css({'top':$event_container.position().top+height-button_height,'left':$event_container.position().left,'width':width,});});}});$(".tt_upcoming_events").each(function(){var self=$(this),autoscroll=0,elementClasses=self.attr("class").split(" ");for(var i=0;i<elementClasses.length;i++)
{if(elementClasses[i].indexOf("autoscroll-")!=-1)
autoscroll=elementClasses[i].replace("autoscroll-","");}
self.carouFredSel({direction:"up",items:{visible:(self.children().length>2?3:self.children().length),height:"variable"},scroll:{items:1,easing:"swing",pauseOnHover:true},prev:{button:self.next().children("#upcoming_event_prev")},next:{button:self.next().children("#upcoming_event_next")},auto:{play:(parseInt(autoscroll)?true:false)}});self.find("li a.tt_upcoming_events_event_container, li>span").hover(function(){self.trigger("configuration",["debug",false,true]);},function(){setTimeout(function(){self.trigger("configuration",["debug",false,true]);},1);});});$(window).resize(function(){$(".tt_upcoming_events").trigger("configuration",["debug",false,true]);});$(document.body).on("click",".tt_timetable.small .plus.box_header",function(event){var $this=$(this),$list=$this.next("ul.tt_items_list");$list.slideDown(500);$this.removeClass("plus");$this.addClass("minus");});$(document.body).on("click",".tt_timetable.small .minus.box_header",function(event){var $this=$(this),$list=$this.next("ul.tt_items_list");$list.slideUp(500,function(){$this.removeClass("minus");$this.addClass("plus");});});if($(".tt_booking").length&&$(".tt_booking_overlay").length)
{$(".tt_booking_overlay").slice(1).remove();$(".tt_booking_overlay").appendTo("body");$(".tt_booking").slice(1).remove();$(".tt_booking").appendTo("body");}
if($(".tt_booking").length&&in_iframe())
{$(".tt_booking").addClass("in_iframe");}
$(document.body).on("click",".event_hour_booking:not(.redirect)",get_event_hour_details);$(document.body).on("click",".tt_booking_overlay",close_booking_popup);var touchmoved;$(document.body).on("touchend",".tt_booking_overlay",function(event){if(touchmoved!=true)
close_booking_popup();}).on("touchmove",".tt_booking_overlay",function(event){touchmoved=true;}).on("touchstart",".tt_booking_overlay",function(event){touchmoved=false;});function get_event_hour_details(event)
{event.preventDefault();var $this=$(this),$booking_popup=$('.tt_booking'),$booking_popup_message=$booking_popup.find('.tt_booking_message'),$booking_popup_preloader=$booking_popup.find('.tt_preloader'),event_hour_id=$this.attr('data-event-hour-id'),redirect_url=window.location.href;$timetable=$this.closest('.tt_wrapper');tt_atts=$.parseJSON($timetable.find('.timetable_atts').val());if(redirect_url.indexOf('#')===-1)
redirect_url=redirect_url+'#book-event-hour-'+event_hour_id;else
redirect_url=redirect_url.substr(0,redirect_url.indexOf('#'))+'#book-event-hour-'+event_hour_id;if($this.hasClass('unavailable')||$this.hasClass('booked'))
return;$booking_popup_message.html('');open_booking_popup(event);resize_booking_popup();$booking_popup_message.attr('data-event-hour-id',event_hour_id);$.post(tt_config.ajaxurl,{action:'timetable_ajax_event_hour_details',redirect_url:redirect_url,event_hour_id:event_hour_id,atts:tt_atts,},function(result){$booking_popup_preloader.addClass('tt_hide');result=parse_server_response(result);if(typeof(result.msg!=='undefined'))
{if(!result.error)
$booking_popup_message.html(result.msg);else
{$booking_popup_message.html('<p>'+result.msg+'</p><div><a href="#" class="tt_btn cancel">'+tt_atts.cancel_popup_label+'</a></div>');}
resize_booking_popup();}},"html");}
$(document.body).on('click','.tt_booking .tt_btn.book',create_event_hour_booking);function create_event_hour_booking(event)
{event.preventDefault();var $this=$(this),$booking_popup=$('.tt_booking'),$booking_popup_message=$booking_popup.find('.tt_booking_message'),$booking_popup_preloader=$booking_popup.find('.tt_preloader'),slots_number=$booking_popup.find('.tt_slots_number').val(),guest_name=$booking_popup.find('.tt_guest_name').val(),guest_email=$booking_popup.find('.tt_guest_email').val(),guest_phone=$booking_popup.find('.tt_guest_phone').val(),guest_message=$booking_popup.find('.tt_guest_message').val(),terms_checkbox=$booking_popup.find('.tt_terms_checkbox').is(':checked'),event_hour_id=$booking_popup_message.attr('data-event-hour-id');$this.qtip('destroy').removeClass('tt-qtip2');$booking_popup_message.addClass('tt_hide');$booking_popup_preloader.removeClass('tt_hide');resize_booking_popup();$.post(tt_config.ajaxurl,{action:'timetable_ajax_event_hour_booking',event_hour_id:event_hour_id,atts:tt_atts,slots_number:slots_number,guest_name:guest_name,guest_email:guest_email,guest_phone:guest_phone,guest_message:guest_message,terms_checkbox:terms_checkbox,},function(result){$booking_popup_preloader.addClass('tt_hide');$booking_popup_message.removeClass('tt_hide');resize_booking_popup();result=parse_server_response(result);if(typeof(result.msg)!=='undefined')
{if(!result.error)
{$booking_popup_message.html(result.msg);resize_booking_popup();$timetable.find(".event_hour_booking.id-"+event_hour_id).parent().replaceWith(result.booking_button);if(typeof(result.available_slots_label)!=='undefined')
{$timetable.find('.available_slots.id-'+event_hour_id).html(result.available_slots_label);}}
else
{$this.addClass('tt-qtip2').qtip({style:{classes:'ui-tooltip-error tt-qtip2'},content:{text:result.msg},position:{my:'bottom center',at:'top center',target:$this,},});setTimeout(function(){$this.qtip('show');},200);}}},"html");}
function handle_orinentation_change()
{var no_change_count_to_end=100,no_end_timeout=1000;(function(){var orientationchange_interval,orientationchange_timeout,end_timming,curr_inner_width,curr_inner_height,last_inner_width,last_inner_height,no_change_count;end_timming=function()
{clearInterval(orientationchange_interval);clearTimeout(orientationchange_timeout);orientationchange_interval=null;orientationchange_timeout=null;resize_booking_popup();};orientationchange_interval=setInterval(function()
{curr_inner_width=$(window).width();curr_inner_height=$(window).height();if(curr_inner_width===last_inner_width&&curr_inner_height===last_inner_height)
{no_change_count++;if(no_change_count===no_change_count_to_end)
{end_timming();}}
else
{last_inner_width=curr_inner_width;last_inner_height=curr_inner_height;no_change_count=0;}});orientationchange_timeout=setTimeout(function(){end_timming();},no_end_timeout);})();}
$(document.body).on('click','.tt_guest_option a',function(event){event.preventDefault();var $booking=$('.tt_booking'),$booking_form_user=$booking.find('.tt_booking_form.user'),$booking_form_guest=$booking.find('.tt_booking_form.guest');$booking_form_user.addClass('tt_hide');$booking_form_guest.removeClass('tt_hide');$(this).parent().addClass('tt_hide').next('.tt_login_option').removeClass('tt_hide');$booking.find('.tt_btn.login').addClass('tt_hide');$booking.find('.tt_btn.book').removeClass('tt_hide');resize_booking_popup();});$(document.body).on('click','.tt_slots_number_plus, .tt_slots_number_minus',function(event){event.preventDefault();var $booking=$('.tt_booking'),$booking_form=$booking.find('.tt_booking_form'),$slots_number=$booking_form.find('.tt_slots_number'),slots_number=parseInt($slots_number.val()),min=parseInt($slots_number.attr('min')),max=parseInt($slots_number.attr('max')),step=parseInt($slots_number.attr('step'));if(isNaN(slots_number))
slots_number=1;if($(this).hasClass('tt_slots_number_plus'))
{if(slots_number<max)
slots_number+=step;else
slots_number=max;}
if($(this).hasClass('tt_slots_number_minus'))
{if(slots_number>min)
slots_number-=step;else
slots_number=min;}
$slots_number.val(slots_number);});$(document.body).on('click','.tt_btn.cancel, .tt_btn.continue',function(event){event.preventDefault();close_booking_popup(event);});function calc_popup_params()
{var $booking_popup=$('.tt_booking');var booking_popup_margin_left=parseInt($booking_popup.css('margin-left'));var booking_popup_width_new;var booking_popup_width=$booking_popup.outerWidth();var booking_popup_width_auto=$booking_popup.css('width','').outerWidth();$booking_popup.css('width',booking_popup_width)
var window_height=($booking_popup.hasClass('in_iframe')?$(parent.window).height():$(window).height());var window_width=($booking_popup.hasClass('in_iframe')?$(parent.window).width():$(window).width());var offset_top=($(document).scrollTop()>=$(parent.document).scrollTop()?$(document).scrollTop():$(parent.document).scrollTop());if((booking_popup_width_auto+booking_popup_margin_left*2)>=window_width)
booking_popup_width_new=window_width-booking_popup_margin_left*2;else
booking_popup_width_new=booking_popup_width_auto;var booking_popup_left=(window_width-booking_popup_width_new-booking_popup_margin_left*2)/2;var booking_popup_height=$booking_popup.outerHeight();var booking_popup_height_new=$booking_popup.css({'width':booking_popup_width_new,'height':'',}).outerHeight();$booking_popup.css({'width':booking_popup_width,'height':booking_popup_height,});var booking_popup_top=offset_top;if(booking_popup_height_new<window_height)
booking_popup_top+=(window_height-booking_popup_height_new)/2;var result={'top':booking_popup_top,'left':booking_popup_left,'width':booking_popup_width_new,'height':booking_popup_height_new,};return result;}
function open_booking_popup(event)
{var
$booking_popup=$(".tt_booking"),$booking_overlay=$(".tt_booking_overlay"),$booking_popup_preloader=$booking_popup.find('.tt_preloader');$booking_overlay.removeClass("tt_hide");$booking_popup.removeClass("tt_hide");$booking_popup_preloader.removeClass('tt_hide');$booking_overlay.css({'height':$(document).height(),});var popup_params=calc_popup_params();$booking_popup.css({'top':popup_params.top,'left':popup_params.left,'width':popup_params.width,'height':popup_params.height,});}
function close_booking_popup()
{var $booking_popup=$(".tt_booking"),$booking_overlay=$(".tt_booking_overlay");$booking_popup.find('.tt-qtip2').qtip('destroy').removeClass('tt-qtip2');$booking_popup.addClass("tt_hide");$booking_overlay.addClass("tt_hide");$booking_popup.css({"top":"","left":"","width":"","height":"",});if(window.location.href.indexOf("book-event-hour-")!==-1)
{window.location.href=escape_str(window.location.href.substr(0,window.location.href.indexOf("#")))+"#";}
return false;}
function resize_booking_popup()
{var $booking_popup=$('.tt_booking'),$booking_overlay=$(".tt_booking_overlay");if($booking_popup.hasClass('tt_hide'))
return;$booking_overlay.css({'height':$(document).height(),});var popup_params=calc_popup_params();$booking_popup.stop(false,true).animate({'top':popup_params.top,'left':popup_params.left,'width':popup_params.width,'height':popup_params.height,},200);}
(function(){var last_resize,timeout=false,delta=200;$(window).resize(function(){last_resize=new Date();if(timeout===false)
{timeout=true;setTimeout(resize_end,delta);}});function resize_end()
{if(new Date()-last_resize<delta)
setTimeout(resize_end,delta);else
{timeout=false;$(window).trigger('resize_end');}}})();$(window).on('resize_end',resize_booking_popup);window.addEventListener('orientationchange',handle_orinentation_change);if(window.location.href.indexOf('book-event-hour-')!==-1)
{var event_hour_id=window.location.href.substr(window.location.href.indexOf('book-event-hour-')+16),$booking_link=$('a.event_hour_booking.id-'+event_hour_id).eq(0);if($booking_link.length)
{$('html, body').animate({scrollTop:$booking_link.offset().top-80},400);$booking_link.click();}}
function escape_str($text)
{return $('<div/>').text($text).html();}
$('form.tt_generate_pdf').on('submit',function(event){var $this=$(this),$timetable_copy,timetable_html;$timetable=$this.closest('.tt_wrapper');$timetable_copy=$timetable.find('.tt_tabs div.ui-tabs-panel:visible .tt_timetable.small').clone();$timetable_copy.find('*').attr('style','');timetable_html=$timetable_copy[0].outerHTML;if($('body').hasClass('rtl'))
timetable_html="<div class='rtl'>"+timetable_html+"</div>";$this.find("textarea[name='tt_pdf_html_content']").val(timetable_html);return true;});function in_iframe()
{try{return window.self!==window.top;}catch(e){return true;}}
function parse_server_response(response)
{var indexStart=response.indexOf('timetable_start')+15,indexEnd=response.indexOf('timetable_end')-indexStart;return $.parseJSON(response.substr(indexStart,indexEnd));}});
;/*
 * In-Field Label jQuery Plugin
 * http://fuelyourcoding.com/scripts/infield.html
 *
 * Copyright (c) 2009 Doug Neiner
 * Dual licensed under the MIT and GPL licenses.
 * Uses the same license as jQuery, see:
 * http://docs.jquery.com/License
 *
 * @version 0.1
 */
(function($){$.InFieldLabels=function(b,c,d){ var f=this;f.$label=$(b);f.label=b;f.$field=$(c);f.field=c;f.$label.data("InFieldLabels",f);f.showing=true;f.init=function(){f.options=$.extend({},$.InFieldLabels.defaultOptions,d);if(f.$field.val()!=""){f.$label.hide();f.showing=false};f.$field.focus(function(){f.fadeOnFocus()}).blur(function(){f.checkForEmpty(true)}).bind('keydown.infieldlabel',function(e){f.hideOnChange(e)}).change(function(e){f.checkForEmpty()}).bind('onPropertyChange',function(){f.checkForEmpty()})};f.fadeOnFocus=function(){if(f.showing){f.setOpacity(f.options.fadeOpacity)}};f.setOpacity=function(a){f.$label.stop().animate({opacity:a},f.options.fadeDuration);f.showing=(a>0.0)};f.checkForEmpty=function(a){if(f.$field.val()==""){f.prepForShow();f.setOpacity(a?1.0:f.options.fadeOpacity)}else{f.setOpacity(0.0)}};f.prepForShow=function(e){if(!f.showing){f.$label.css({opacity:0.0}).show();f.$field.bind('keydown.infieldlabel',function(e){f.hideOnChange(e)})}};f.hideOnChange=function(e){if((e.keyCode==16)||(e.keyCode==9))return;if(f.showing){f.$label.hide();f.showing=false};f.$field.unbind('keydown.infieldlabel')};f.init()};$.InFieldLabels.defaultOptions={fadeOpacity:0.5,fadeDuration:300};$.fn.inFieldLabels=function(c){return this.each(function(){var a=$(this).attr('for');if(!a)return;var b=$("input#"+a+"[type='text'],"+"input#"+a+"[type='password'],"+"textarea#"+a);if(b.length==0)return;(new $.InFieldLabels(this,b[0],c))})}})(jQuery);
;;(function($,doc,win)
{"use strict";var responsiveTable=function(object,option)
{var $this=$(object);var $optionDefault={width:680};var $option=$.extend($optionDefault,option);this.create=function()
{$().windowDimensionListener({change:function(width,height)
{if(width)
{if($this.parent().actual('width')<$option.width)
{$this.find('th').each(function(index)
{$this.find('td:not(.theme-table-responsive-cell-no-title)').eq(index).attr('data-title',$(this).text());});$this.addClass('theme-table-responsive');}
else
{$this.removeClass('theme-table-responsive');}}}});};};$.fn.responsiveTable=function(option)
{$(this).each(function()
{var table=new responsiveTable(this,option);table.create();});};})(jQuery,document,window);
;// Generated by CoffeeScript 1.6.2
/*
jQuery Waypoints - v2.0.3
Copyright (c) 2011-2013 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1},e=[].slice;(function(t,e){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(n){return e(n,t)})}else{return e(t.jQuery,t)}})(this,function(n,r){var i,o,l,s,f,u,a,c,h,d,p,y,v,w,g,m;i=n(r);c=t.call(r,"ontouchstart")>=0;s={horizontal:{},vertical:{}};f=1;a={};u="waypoints-context-id";p="resize.waypoints";y="scroll.waypoints";v=1;w="waypoints-waypoint-ids";g="waypoint";m="waypoints";o=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id="context"+f++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};t.data(u,this.id);a[this.id]=this;t.bind(y,function(){var t;if(!(e.didScroll||c)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,n[m].settings.scrollThrottle)}});t.bind(p,function(){var t;if(!e.didResize){e.didResize=true;t=function(){n[m]("refresh");return e.didResize=false};return r.setTimeout(t,n[m].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,e=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(c&&(!t.vertical.oldScroll||!t.vertical.newScroll)){n[m]("refresh")}n.each(t,function(t,r){var i,o,l;l=[];o=r.newScroll>r.oldScroll;i=o?r.forward:r.backward;n.each(e.waypoints[t],function(t,e){var n,i;if(r.oldScroll<(n=e.offset)&&n<=r.newScroll){return l.push(e)}else if(r.newScroll<(i=e.offset)&&i<=r.oldScroll){return l.push(e)}});l.sort(function(t,e){return t.offset-e.offset});if(!o){l.reverse()}return n.each(l,function(t,e){if(e.options.continuous||t===l.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,r,i=this;r=n.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;i=r.options.offset;l=r.offset;o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i==="string"){i=parseFloat(i);if(r.options.offset.indexOf("%")>-1){i=Math.ceil(e.contextDimension*i/100)}}r.offset=o-e.contextOffset+e.contextScroll-i;if(r.options.onlyOnScroll&&l!=null||!r.enabled){return}if(l!==null&&l<(s=e.oldScroll)&&s<=r.offset){return r.trigger([e.backward])}else if(l!==null&&l>(f=e.oldScroll)&&f>=r.offset){return r.trigger([e.forward])}else if(l===null&&e.oldScroll>=r.offset){return r.trigger([e.forward])}})})};t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,y].join(" "));return delete a[this.id]}};return t}();l=function(){function t(t,e,r){var i,o;r=n.extend({},n.fn[g].defaults,r);if(r.offset==="bottom-in-view"){r.offset=function(){var t;t=n[m]("viewportHeight");if(!n.isWindow(e.element)){t=e.$element.height()}return t-n(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=e;this.enabled=r.enabled;this.id="waypoints"+v++;this.offset=null;this.options=r;e.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;i=(o=t.data(w))!=null?o:[];i.push(this.id);t.data(w,i)}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,r;r=n(t).data(w);if(!r){return[]}e=n.extend({},s.horizontal,s.vertical);return n.map(r,function(t){return e[t]})};return t}();d={init:function(t,e){var r;if(e==null){e={}}if((r=e.handler)==null){e.handler=t}this.each(function(){var t,r,i,s;t=n(this);i=(s=e.context)!=null?s:n.fn[g].defaults.context;if(!n.isWindow(i)){i=t.closest(i)}i=n(i);r=a[i.data(u)];if(!r){r=new o(i)}return new l(t,r,e)});n[m]("refresh");return this},disable:function(){return d._invoke(this,"disable")},enable:function(){return d._invoke(this,"enable")},destroy:function(){return d._invoke(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0){return t.push(n[e-1])}})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1){return t.push(n[e+1])}})},_traverse:function(t,e,i){var o,l;if(t==null){t="vertical"}if(e==null){e=r}l=h.aggregate(e);o=[];this.each(function(){var e;e=n.inArray(this,l[t]);return i(o,e,l[t])});return this.pushStack(o)},_invoke:function(t,e){t.each(function(){var t;t=l.getWaypointsByElement(this);return n.each(t,function(t,n){n[e]();return true})});return this}};n.fn[g]=function(){var t,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(d[r]){return d[r].apply(this,t)}else if(n.isFunction(r)){return d.init.apply(this,arguments)}else if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else if(!r){return n.error("jQuery Waypoints needs a callback function or handler option.")}else{return n.error("The "+r+" method does not exist in jQuery Waypoints.")}};n.fn[g].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(a,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:i.height()},aggregate:function(t){var e,r,i;e=s;if(t){e=(i=a[n(t).data(u)])!=null?i.waypoints:void 0}if(!e){return[]}r={horizontal:[],vertical:[]};n.each(r,function(t,i){n.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});r[t]=n.map(i,function(t){return t.element});return r[t]=n.unique(r[t])});return r},above:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;e=n.extend({},s.vertical,s.horizontal);return n.each(e,function(e,n){n[t]();return true})},_filter:function(t,e,r){var i,o;i=a[n(t).data(u)];if(!i){return[]}o=[];n.each(i.waypoints[e],function(t,e){if(r(i,e)){return o.push(e)}});o.sort(function(t,e){return t.offset-e.offset});return n.map(o,function(t){return t.element})}};n[m]=function(){var t,n;n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(h[n]){return h[n].apply(null,t)}else{return h.aggregate.call(null,n)}};n[m].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[m]("refresh")})})}).call(this);
;// Generated by CoffeeScript 1.6.2
/*
Sticky Elements Shortcut for jQuery Waypoints - v2.0.3
Copyright (c) 2011-2013 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){(function(t,n){if(typeof define==="function"&&define.amd){return define(["jquery","waypoints"],n)}else{return n(t.jQuery)}})(this,function(t){var n,s;n={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck"};s=function(t,n){t.wrap(n.wrapper);return t.parent()};t.waypoints("extendFn","sticky",function(e){var i,r,a;r=t.extend({},t.fn.waypoint.defaults,n,e);i=s(this,r);a=r.handler;r.handler=function(n){var s,e;s=t(this).children(":first");e=n==="down"||n==="right";s.toggleClass(r.stuckClass,e);i.height(e?s.outerHeight():"");if(a!=null){return a.call(this,n)}};i.waypoint(r);return this.data("stuckClass",r.stuckClass)});return t.waypoints("extendFn","unsticky",function(){this.parent().waypoint("destroy");this.unwrap();return this.removeClass(this.data("stuckClass"))})})}).call(this);